{"version":3,"names":["ZegoUIKitPrebuiltCall","props","appID","appSign","userID","userName","callID","config","token","onRequireNewToken","audioVideoViewConfig","turnOnCameraWhenJoining","turnOnMicrophoneWhenJoining","useSpeakerWhenJoining","bottomMenuBarConfig","topMenuBarConfig","memberListConfig","layout","hangUpConfirmInfo","onHangUp","onHangUpConfirmation","onOnlySelfInRoom","showMicrophoneStateOnView","showCameraStateOnView","showUserNameOnView","showSoundWavesInAudioMode","useVideoViewAspectFill","foregroundBuilder","buttons","ZegoMenuBarButtonName","toggleCameraButton","switchCameraButton","hangUpButton","toggleMicrophoneButton","switchAudioOutputButton","maxCount","extendButtons","hideAutomatically","hideByClick","style","ZegoMenuBarStyle","light","isVisible","title","topTitle","topButtons","topMaxCount","topExtendButtons","topHideAutomatically","topHideByClick","topStyle","showMicrophoneState","showCameraState","itemBuilder","isMenubarVisable","setIsMenubarVidable","useState","isTopMenubarVisable","setTopIsMenubarVidable","isCallMemberListVisable","setIsCallMemberListVisable","hideCountdown","hideCountdownOnTopMenu","onFullPageTouch","grantPermissions","callback","Platform","OS","grantedAudio","PermissionsAndroid","check","PERMISSIONS","RECORD_AUDIO","grantedCamera","CAMERA","ungrantedPermissions","isAudioGranted","isVideoGranted","push","error","requestMultiple","then","data","console","warn","showLeaveAlert","Promise","resolve","reject","message","cancelButtonName","confirmButtonName","Alert","alert","text","onPress","cancelable","useEffect","callbackID","String","Math","floor","random","ZegoUIKit","init","turnCameraOn","turnMicrophoneOn","setAudioOutputToSpeaker","joinRoom","leaveRoom","useInterval","delay","savedCallback","useRef","current","tick","id","setInterval","clearInterval","onOpenCallMemberList","onCloseCallMemberList","styles","container","fillParent","audioVideoView","userInfo","StyleSheet","create","flex","alignItems","justifyContent","zIndex","width","height","position","right","top"],"sources":["index.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { PermissionsAndroid, Alert } from 'react-native';\n\nimport { StyleSheet, View } from 'react-native';\nimport ZegoUIKit, { ZegoAudioVideoContainer } from '@zegocloud/zego-uikit-rn'\nimport AudioVideoForegroundView from './AudioVideoForegroundView';\nimport ZegoBottomBar from './ZegoBottomBar';\nimport ZegoTopMenuBar from './ZegoTopMenuBar';\nimport ZegoCallMemberList from './ZegoCallMemberList';\nimport ZegoMenuBarButtonName from './ZegoMenuBarButtonName';\nimport ZegoMenuBarStyle from './ZegoMenuBarStyle';\n\n\nexport default function ZegoUIKitPrebuiltCall(props) {\n    const {\n        appID,\n        appSign,\n        userID,\n        userName,\n        callID,\n        config,\n        token,\n        onRequireNewToken,\n    } = props;\n    const {\n        audioVideoViewConfig = {},\n\n        turnOnCameraWhenJoining = true,\n        turnOnMicrophoneWhenJoining = true,\n        useSpeakerWhenJoining = true,\n\n        bottomMenuBarConfig = {},\n        topMenuBarConfig = {},\n        memberListConfig = {},\n\n        layout = {},\n\n        hangUpConfirmInfo, // {title: '', cancelButtonName: '', confirmButtonName: ''}\n\n        onHangUp,\n        onHangUpConfirmation,\n        onOnlySelfInRoom,\n    } = config;\n    const {\n        showMicrophoneStateOnView = true,\n        showCameraStateOnView = false,\n        showUserNameOnView = true,\n        showSoundWavesInAudioMode = true,\n        useVideoViewAspectFill = true,\n        foregroundBuilder,\n    } = audioVideoViewConfig;\n    const {\n        buttons = [\n            ZegoMenuBarButtonName.toggleCameraButton,\n            ZegoMenuBarButtonName.switchCameraButton,\n            ZegoMenuBarButtonName.hangUpButton,\n            ZegoMenuBarButtonName.toggleMicrophoneButton,\n            ZegoMenuBarButtonName.switchAudioOutputButton\n        ],\n        maxCount = 5,\n        extendButtons = [],\n        hideAutomatically = true,\n        hideByClick = true,\n        style = ZegoMenuBarStyle.light,\n    } = bottomMenuBarConfig;\n    const {\n        isVisible = true,\n        title:topTitle = userName || '',\n        buttons:topButtons = [],\n        maxCount:topMaxCount = 3,\n        extendButtons:topExtendButtons = [],\n        hideAutomatically:topHideAutomatically = true,\n        hideByClick:topHideByClick = true,\n        style:topStyle = ZegoMenuBarStyle.light,\n    } = topMenuBarConfig;\n    const {\n        showMicrophoneState = true,\n        showCameraState = true,\n        itemBuilder,\n    } = memberListConfig;\n\n    const [isMenubarVisable, setIsMenubarVidable] = useState(true);\n    const [isTopMenubarVisable, setTopIsMenubarVidable] = useState(true);\n    const [isCallMemberListVisable, setIsCallMemberListVisable] = useState(false);\n    var hideCountdown = 5;\n    var hideCountdownOnTopMenu = 5;\n\n    const onFullPageTouch = () => {\n        hideCountdown = 5;\n        hideCountdownOnTopMenu = 5;\n        if (isMenubarVisable) {\n            if (hideByClick) {\n                setIsMenubarVidable(false);\n                setIsCallMemberListVisable(false);\n            }\n        } else {\n            setIsMenubarVidable(true);\n        }\n        if (isTopMenubarVisable) {\n            if (topHideByClick) {\n                setTopIsMenubarVidable(false);\n                setIsCallMemberListVisable(false);\n            }\n        } else {\n            setTopIsMenubarVidable(true);\n        }\n    }\n    const grantPermissions = async (callback) => {\n        // Android: Dynamically obtaining device permissions\n        if (Platform.OS === 'android') {\n            // Check if permission granted\n            let grantedAudio = PermissionsAndroid.check(\n                PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,\n            );\n            let grantedCamera = PermissionsAndroid.check(\n                PermissionsAndroid.PERMISSIONS.CAMERA,\n            );\n            const ungrantedPermissions = [];\n            try {\n                const isAudioGranted = await grantedAudio;\n                const isVideoGranted = await grantedCamera;\n                if (!isAudioGranted) {\n                    ungrantedPermissions.push(\n                        PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,\n                    );\n                }\n                if (!isVideoGranted) {\n                    ungrantedPermissions.push(PermissionsAndroid.PERMISSIONS.CAMERA);\n                }\n            } catch (error) {\n                ungrantedPermissions.push(\n                    PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,\n                    PermissionsAndroid.PERMISSIONS.CAMERA,\n                );\n            }\n            // If not, request it\n            return PermissionsAndroid.requestMultiple(ungrantedPermissions).then(\n                data => {\n                    console.warn('requestMultiple', data);\n                    if (callback) {\n                        callback();\n                    }\n                },\n            );\n        } else if (callback) {\n            callback();\n        }\n    }\n    // Default operation for click the leave button\n    const showLeaveAlert = () => {\n        return new Promise((resolve, reject) => {\n            if (hangUpConfirmInfo) {\n                const {\n                    title = \"Leave the call\",\n                    message = \"Are you sure to leave the call?\",\n                    cancelButtonName = \"Cancel\",\n                    confirmButtonName = \"Confirm\"\n                } = hangUpConfirmInfo;\n                Alert.alert(\n                    title,\n                    message,\n                    [\n                        {\n                            text: cancelButtonName,\n                            onPress: () => {\n                                reject();\n                            },\n                            style: \"cancel\",\n                        },\n                        {\n                            text: confirmButtonName,\n                            onPress: () => {\n                                resolve();\n                            },\n                        },\n                    ],\n                    {\n                        cancelable: false,\n                    }\n                );\n            } else {\n                resolve();\n            }\n        });\n    }\n\n    useEffect(() => {\n        const callbackID = 'ZegoUIKitPrebuiltCall' + String(Math.floor(Math.random() * 10000));\n        ZegoUIKit.onOnlySelfInRoom(callbackID, () => {\n            if (typeof onOnlySelfInRoom == 'function') {\n                onOnlySelfInRoom();\n            }\n        });\n        ZegoUIKit.onRequireNewToken(callbackID, onRequireNewToken);\n        return () => {\n            ZegoUIKit.onOnlySelfInRoom(callbackID);\n            ZegoUIKit.onRequireNewToken(callbackID);\n        }\n    }, []);\n    useEffect(() => {\n        ZegoUIKit.init(\n            appID,\n            appSign,\n            { userID: userID, userName: userName }).then(() => {\n\n                ZegoUIKit.turnCameraOn('', turnOnCameraWhenJoining);\n                ZegoUIKit.turnMicrophoneOn('', turnOnMicrophoneWhenJoining);\n                ZegoUIKit.setAudioOutputToSpeaker(useSpeakerWhenJoining);\n\n                grantPermissions(() => {\n                    if (appSign) {\n                        ZegoUIKit.joinRoom(callID);\n                    } else {\n                        ZegoUIKit.joinRoom(callID, token || onRequireNewToken());\n                    }\n                });\n\n            });\n\n        return () => {\n            ZegoUIKit.leaveRoom();\n        }\n    }, []);\n\n    function useInterval(callback, delay) {\n        const savedCallback = useRef();\n\n        useEffect(() => {\n            savedCallback.current = callback;\n        });\n\n        useEffect(() => {\n            function tick() {\n                savedCallback.current();\n            }\n            if (delay !== null) {\n                let id = setInterval(tick, delay);\n                return () => clearInterval(id);\n            }\n        }, [delay]);\n    }\n\n    function onOpenCallMemberList() {\n        setIsCallMemberListVisable(true);\n    }\n\n    function onCloseCallMemberList() {\n        setIsCallMemberListVisable(false);\n    }\n\n    useInterval(() => {\n        hideCountdown--;\n        if (hideCountdown <= 0) {\n            hideCountdown = 5;\n            if (hideAutomatically) {\n                setIsMenubarVidable(false);\n            }\n        }\n    }, 1000);\n\n    useInterval(() => {\n        hideCountdownOnTopMenu--;\n        if (hideCountdownOnTopMenu <= 0) {\n            hideCountdownOnTopMenu = 5;\n            if (topHideAutomatically) {\n                setTopIsMenubarVidable(false);\n            }\n        }\n    }, 1000);\n\n    return (\n        <View style={[styles.container, styles.fillParent]} >\n            {isVisible && isTopMenubarVisable ?\n                <ZegoTopMenuBar\n                    menuTitle={topTitle}\n                    menuBarButtonsMaxCount={topMaxCount}\n                    menuBarButtons={topButtons}\n                    menuBarExtendedButtons={topExtendButtons}\n                    onHangUp={onHangUp}\n                    onHangUpConfirmation={onHangUpConfirmation ? onHangUpConfirmation : showLeaveAlert}\n                    turnOnCameraWhenJoining={turnOnCameraWhenJoining}\n                    turnOnMicrophoneWhenJoining={turnOnMicrophoneWhenJoining}\n                    useSpeakerWhenJoining={useSpeakerWhenJoining}\n                    onOpenCallMemberList={onOpenCallMemberList}\n                /> : <View />\n            }\n            <View style={styles.fillParent} pointerEvents='auto' onTouchStart={onFullPageTouch}>\n                <ZegoAudioVideoContainer style={[styles.audioVideoView, styles.fillParent]}\n                    audioVideoConfig={{\n                        showSoundWavesInAudioMode: showSoundWavesInAudioMode,\n                        useVideoViewAspectFill: useVideoViewAspectFill,\n                    }}\n                    layout={layout}\n                    foregroundBuilder={foregroundBuilder ? foregroundBuilder : ({ userInfo }) =>\n                        <AudioVideoForegroundView\n                            userInfo={userInfo}\n                            showMicrophoneStateOnView={showMicrophoneStateOnView}\n                            showCameraStateOnView={showCameraStateOnView}\n                            showUserNameOnView={showUserNameOnView}\n                        />\n                    }\n                />\n            </View>\n            {isMenubarVisable ?\n                <ZegoBottomBar\n                    menuBarButtonsMaxCount={maxCount}\n                    menuBarButtons={buttons}\n                    menuBarExtendedButtons={extendButtons}\n                    onHangUp={onHangUp}\n                    onHangUpConfirmation={onHangUpConfirmation ? onHangUpConfirmation : showLeaveAlert}\n                    turnOnCameraWhenJoining={turnOnCameraWhenJoining}\n                    turnOnMicrophoneWhenJoining={turnOnMicrophoneWhenJoining}\n                    useSpeakerWhenJoining={useSpeakerWhenJoining}\n                    onMorePress={() => { hideCountdown = 5; }}\n                /> :\n                <View />\n            }\n            {isCallMemberListVisable ?\n                <ZegoCallMemberList\n                    showMicrophoneState={showMicrophoneState}\n                    showCameraState={showCameraState}\n                    itemBuilder={itemBuilder}\n                    onCloseCallMemberList={onCloseCallMemberList}\n                /> :\n                <View />\n            }\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 0,\n    },\n    fillParent: {\n        width: '100%',\n        height: '100%',\n        position: 'absolute',\n    },\n    audioVideoView: {\n        flex: 1,\n        zIndex: 2,\n        right: 0,\n        top: 0,\n    },\n});\n"],"mappings":"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"}