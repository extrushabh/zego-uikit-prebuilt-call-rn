{"version":3,"names":["React","useEffect","useState","useRef","PermissionsAndroid","Alert","StyleSheet","View","ZegoUIKit","ZegoAudioVideoContainer","AudioVideoForegroundView","ZegoBottomBar","ZegoTopMenuBar","ZegoCallMemberList","ZegoMenuBarButtonName","ZegoMenuBarStyle","ZegoUIKitPrebuiltCall","props","appID","appSign","userID","userName","callID","config","token","onRequireNewToken","audioVideoViewConfig","turnOnCameraWhenJoining","turnOnMicrophoneWhenJoining","useSpeakerWhenJoining","bottomMenuBarConfig","topMenuBarConfig","memberListConfig","layout","hangUpConfirmInfo","onHangUp","onHangUpConfirmation","onOnlySelfInRoom","showMicrophoneStateOnView","showCameraStateOnView","showUserNameOnView","showSoundWavesInAudioMode","useVideoViewAspectFill","foregroundBuilder","buttons","toggleCameraButton","switchCameraButton","hangUpButton","toggleMicrophoneButton","switchAudioOutputButton","maxCount","extendButtons","hideAutomatically","hideByClick","style","light","isVisible","title","topTitle","topButtons","topMaxCount","topExtendButtons","topHideAutomatically","topHideByClick","topStyle","showMicrophoneState","showCameraState","itemBuilder","isMenubarVisable","setIsMenubarVidable","isTopMenubarVisable","setTopIsMenubarVidable","isCallMemberListVisable","setIsCallMemberListVisable","hideCountdown","hideCountdownOnTopMenu","onFullPageTouch","grantPermissions","callback","Platform","OS","grantedAudio","check","PERMISSIONS","RECORD_AUDIO","grantedCamera","CAMERA","ungrantedPermissions","isAudioGranted","isVideoGranted","push","error","requestMultiple","then","data","console","warn","showLeaveAlert","Promise","resolve","reject","message","cancelButtonName","confirmButtonName","alert","text","onPress","cancelable","callbackID","String","Math","floor","random","init","turnCameraOn","turnMicrophoneOn","setAudioOutputToSpeaker","joinRoom","leaveRoom","useInterval","delay","savedCallback","current","tick","id","setInterval","clearInterval","onOpenCallMemberList","onCloseCallMemberList","styles","container","fillParent","audioVideoView","userInfo","create","flex","alignItems","justifyContent","zIndex","width","height","position","right","top"],"sources":["index.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { PermissionsAndroid, Alert } from 'react-native';\n\nimport { StyleSheet, View } from 'react-native';\nimport ZegoUIKit, { ZegoAudioVideoContainer } from '@zegocloud/zego-uikit-rn'\nimport AudioVideoForegroundView from './AudioVideoForegroundView';\nimport ZegoBottomBar from './ZegoBottomBar';\nimport ZegoTopMenuBar from './ZegoTopMenuBar';\nimport ZegoCallMemberList from './ZegoCallMemberList';\nimport ZegoMenuBarButtonName from './ZegoMenuBarButtonName';\nimport ZegoMenuBarStyle from './ZegoMenuBarStyle';\n\n\nexport default function ZegoUIKitPrebuiltCall(props) {\n    const {\n        appID,\n        appSign,\n        userID,\n        userName,\n        callID,\n        config,\n        token,\n        onRequireNewToken,\n    } = props;\n    const {\n        audioVideoViewConfig = {},\n\n        turnOnCameraWhenJoining = true,\n        turnOnMicrophoneWhenJoining = true,\n        useSpeakerWhenJoining = true,\n\n        bottomMenuBarConfig = {},\n        topMenuBarConfig = {},\n        memberListConfig = {},\n\n        layout = {},\n\n        hangUpConfirmInfo, // {title: '', cancelButtonName: '', confirmButtonName: ''}\n\n        onHangUp,\n        onHangUpConfirmation,\n        onOnlySelfInRoom,\n    } = config;\n    const {\n        showMicrophoneStateOnView = true,\n        showCameraStateOnView = false,\n        showUserNameOnView = true,\n        showSoundWavesInAudioMode = true,\n        useVideoViewAspectFill = true,\n        foregroundBuilder,\n    } = audioVideoViewConfig;\n    const {\n        buttons = [\n            ZegoMenuBarButtonName.toggleCameraButton,\n            ZegoMenuBarButtonName.switchCameraButton,\n            ZegoMenuBarButtonName.hangUpButton,\n            ZegoMenuBarButtonName.toggleMicrophoneButton,\n            ZegoMenuBarButtonName.switchAudioOutputButton\n        ],\n        maxCount = 5,\n        extendButtons = [],\n        hideAutomatically = true,\n        hideByClick = true,\n        style = ZegoMenuBarStyle.light,\n    } = bottomMenuBarConfig;\n    const {\n        isVisible = true,\n        title:topTitle = userName || '',\n        buttons:topButtons = [],\n        maxCount:topMaxCount = 3,\n        extendButtons:topExtendButtons = [],\n        hideAutomatically:topHideAutomatically = true,\n        hideByClick:topHideByClick = true,\n        style:topStyle = ZegoMenuBarStyle.light,\n    } = topMenuBarConfig;\n    const {\n        showMicrophoneState = true,\n        showCameraState = true,\n        itemBuilder,\n    } = memberListConfig;\n\n    const [isMenubarVisable, setIsMenubarVidable] = useState(true);\n    const [isTopMenubarVisable, setTopIsMenubarVidable] = useState(true);\n    const [isCallMemberListVisable, setIsCallMemberListVisable] = useState(false);\n    var hideCountdown = 5;\n    var hideCountdownOnTopMenu = 5;\n\n    const onFullPageTouch = () => {\n        hideCountdown = 5;\n        hideCountdownOnTopMenu = 5;\n        if (isMenubarVisable) {\n            if (hideByClick) {\n                setIsMenubarVidable(false);\n                setIsCallMemberListVisable(false);\n            }\n        } else {\n            setIsMenubarVidable(true);\n        }\n        if (isTopMenubarVisable) {\n            if (topHideByClick) {\n                setTopIsMenubarVidable(false);\n                setIsCallMemberListVisable(false);\n            }\n        } else {\n            setTopIsMenubarVidable(true);\n        }\n    }\n    const grantPermissions = async (callback) => {\n        // Android: Dynamically obtaining device permissions\n        if (Platform.OS === 'android') {\n            // Check if permission granted\n            let grantedAudio = PermissionsAndroid.check(\n                PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,\n            );\n            let grantedCamera = PermissionsAndroid.check(\n                PermissionsAndroid.PERMISSIONS.CAMERA,\n            );\n            const ungrantedPermissions = [];\n            try {\n                const isAudioGranted = await grantedAudio;\n                const isVideoGranted = await grantedCamera;\n                if (!isAudioGranted) {\n                    ungrantedPermissions.push(\n                        PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,\n                    );\n                }\n                if (!isVideoGranted) {\n                    ungrantedPermissions.push(PermissionsAndroid.PERMISSIONS.CAMERA);\n                }\n            } catch (error) {\n                ungrantedPermissions.push(\n                    PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,\n                    PermissionsAndroid.PERMISSIONS.CAMERA,\n                );\n            }\n            // If not, request it\n            return PermissionsAndroid.requestMultiple(ungrantedPermissions).then(\n                data => {\n                    console.warn('requestMultiple', data);\n                    if (callback) {\n                        callback();\n                    }\n                },\n            );\n        } else if (callback) {\n            callback();\n        }\n    }\n    // Default operation for click the leave button\n    const showLeaveAlert = () => {\n        return new Promise((resolve, reject) => {\n            if (hangUpConfirmInfo) {\n                const {\n                    title = \"Leave the call\",\n                    message = \"Are you sure to leave the call?\",\n                    cancelButtonName = \"Cancel\",\n                    confirmButtonName = \"Confirm\"\n                } = hangUpConfirmInfo;\n                Alert.alert(\n                    title,\n                    message,\n                    [\n                        {\n                            text: cancelButtonName,\n                            onPress: () => {\n                                reject();\n                            },\n                            style: \"cancel\",\n                        },\n                        {\n                            text: confirmButtonName,\n                            onPress: () => {\n                                resolve();\n                            },\n                        },\n                    ],\n                    {\n                        cancelable: false,\n                    }\n                );\n            } else {\n                resolve();\n            }\n        });\n    }\n\n    useEffect(() => {\n        const callbackID = 'ZegoUIKitPrebuiltCall' + String(Math.floor(Math.random() * 10000));\n        ZegoUIKit.onOnlySelfInRoom(callbackID, () => {\n            if (typeof onOnlySelfInRoom == 'function') {\n                onOnlySelfInRoom();\n            }\n        });\n        ZegoUIKit.onRequireNewToken(callbackID, onRequireNewToken);\n        return () => {\n            ZegoUIKit.onOnlySelfInRoom(callbackID);\n            ZegoUIKit.onRequireNewToken(callbackID);\n        }\n    }, []);\n    useEffect(() => {\n        ZegoUIKit.init(\n            appID,\n            appSign,\n            { userID: userID, userName: userName }).then(() => {\n\n                ZegoUIKit.turnCameraOn('', turnOnCameraWhenJoining);\n                ZegoUIKit.turnMicrophoneOn('', turnOnMicrophoneWhenJoining);\n                ZegoUIKit.setAudioOutputToSpeaker(useSpeakerWhenJoining);\n\n                grantPermissions(() => {\n                    if (appSign) {\n                        ZegoUIKit.joinRoom(callID);\n                    } else {\n                        ZegoUIKit.joinRoom(callID, token || onRequireNewToken());\n                    }\n                });\n\n            });\n\n        return () => {\n            ZegoUIKit.leaveRoom();\n        }\n    }, []);\n\n    function useInterval(callback, delay) {\n        const savedCallback = useRef();\n\n        useEffect(() => {\n            savedCallback.current = callback;\n        });\n\n        useEffect(() => {\n            function tick() {\n                savedCallback.current();\n            }\n            if (delay !== null) {\n                let id = setInterval(tick, delay);\n                return () => clearInterval(id);\n            }\n        }, [delay]);\n    }\n\n    function onOpenCallMemberList() {\n        setIsCallMemberListVisable(true);\n    }\n\n    function onCloseCallMemberList() {\n        setIsCallMemberListVisable(false);\n    }\n\n    useInterval(() => {\n        hideCountdown--;\n        if (hideCountdown <= 0) {\n            hideCountdown = 5;\n            if (hideAutomatically) {\n                setIsMenubarVidable(false);\n            }\n        }\n    }, 1000);\n\n    useInterval(() => {\n        hideCountdownOnTopMenu--;\n        if (hideCountdownOnTopMenu <= 0) {\n            hideCountdownOnTopMenu = 5;\n            if (topHideAutomatically) {\n                setTopIsMenubarVidable(false);\n            }\n        }\n    }, 1000);\n\n    return (\n        <View style={[styles.container, styles.fillParent]} >\n            {isVisible && isTopMenubarVisable ?\n                <ZegoTopMenuBar\n                    menuTitle={topTitle}\n                    menuBarButtonsMaxCount={topMaxCount}\n                    menuBarButtons={topButtons}\n                    menuBarExtendedButtons={topExtendButtons}\n                    onHangUp={onHangUp}\n                    onHangUpConfirmation={onHangUpConfirmation ? onHangUpConfirmation : showLeaveAlert}\n                    turnOnCameraWhenJoining={turnOnCameraWhenJoining}\n                    turnOnMicrophoneWhenJoining={turnOnMicrophoneWhenJoining}\n                    useSpeakerWhenJoining={useSpeakerWhenJoining}\n                    onOpenCallMemberList={onOpenCallMemberList}\n                /> : <View />\n            }\n            <View style={styles.fillParent} pointerEvents='auto' onTouchStart={onFullPageTouch}>\n                <ZegoAudioVideoContainer style={[styles.audioVideoView, styles.fillParent]}\n                    audioVideoConfig={{\n                        showSoundWavesInAudioMode: showSoundWavesInAudioMode,\n                        useVideoViewAspectFill: useVideoViewAspectFill,\n                    }}\n                    layout={layout}\n                    foregroundBuilder={foregroundBuilder ? foregroundBuilder : ({ userInfo }) =>\n                        <AudioVideoForegroundView\n                            userInfo={userInfo}\n                            showMicrophoneStateOnView={showMicrophoneStateOnView}\n                            showCameraStateOnView={showCameraStateOnView}\n                            showUserNameOnView={showUserNameOnView}\n                        />\n                    }\n                />\n            </View>\n            {isMenubarVisable ?\n                <ZegoBottomBar\n                    menuBarButtonsMaxCount={maxCount}\n                    menuBarButtons={buttons}\n                    menuBarExtendedButtons={extendButtons}\n                    onHangUp={onHangUp}\n                    onHangUpConfirmation={onHangUpConfirmation ? onHangUpConfirmation : showLeaveAlert}\n                    turnOnCameraWhenJoining={turnOnCameraWhenJoining}\n                    turnOnMicrophoneWhenJoining={turnOnMicrophoneWhenJoining}\n                    useSpeakerWhenJoining={useSpeakerWhenJoining}\n                    onMorePress={() => { hideCountdown = 5; }}\n                /> :\n                <View />\n            }\n            {isCallMemberListVisable ?\n                <ZegoCallMemberList\n                    showMicrophoneState={showMicrophoneState}\n                    showCameraState={showCameraState}\n                    itemBuilder={itemBuilder}\n                    onCloseCallMemberList={onCloseCallMemberList}\n                /> :\n                <View />\n            }\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 0,\n    },\n    fillParent: {\n        width: '100%',\n        height: '100%',\n        position: 'absolute',\n    },\n    audioVideoView: {\n        flex: 1,\n        zIndex: 2,\n        right: 0,\n        top: 0,\n    },\n});\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,kBAAkB,EAAEC,KAAK,QAAQ,cAAc;AAExD,SAASC,UAAU,EAAEC,IAAI,QAAQ,cAAc;AAC/C,OAAOC,SAAS,IAAIC,uBAAuB,QAAQ,0BAA0B;AAC7E,OAAOC,wBAAwB,MAAM,4BAA4B;AACjE,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,kBAAkB,MAAM,sBAAsB;AACrD,OAAOC,qBAAqB,MAAM,yBAAyB;AAC3D,OAAOC,gBAAgB,MAAM,oBAAoB;AAGjD,eAAe,SAASC,qBAAqB,CAACC,KAAK,EAAE;EACjD,MAAM;IACFC,KAAK;IACLC,OAAO;IACPC,MAAM;IACNC,QAAQ;IACRC,MAAM;IACNC,MAAM;IACNC,KAAK;IACLC;EACJ,CAAC,GAAGR,KAAK;EACT,MAAM;IACFS,oBAAoB,GAAG,CAAC,CAAC;IAEzBC,uBAAuB,GAAG,IAAI;IAC9BC,2BAA2B,GAAG,IAAI;IAClCC,qBAAqB,GAAG,IAAI;IAE5BC,mBAAmB,GAAG,CAAC,CAAC;IACxBC,gBAAgB,GAAG,CAAC,CAAC;IACrBC,gBAAgB,GAAG,CAAC,CAAC;IAErBC,MAAM,GAAG,CAAC,CAAC;IAEXC,iBAAiB;IAAE;;IAEnBC,QAAQ;IACRC,oBAAoB;IACpBC;EACJ,CAAC,GAAGd,MAAM;EACV,MAAM;IACFe,yBAAyB,GAAG,IAAI;IAChCC,qBAAqB,GAAG,KAAK;IAC7BC,kBAAkB,GAAG,IAAI;IACzBC,yBAAyB,GAAG,IAAI;IAChCC,sBAAsB,GAAG,IAAI;IAC7BC;EACJ,CAAC,GAAGjB,oBAAoB;EACxB,MAAM;IACFkB,OAAO,GAAG,CACN9B,qBAAqB,CAAC+B,kBAAkB,EACxC/B,qBAAqB,CAACgC,kBAAkB,EACxChC,qBAAqB,CAACiC,YAAY,EAClCjC,qBAAqB,CAACkC,sBAAsB,EAC5ClC,qBAAqB,CAACmC,uBAAuB,CAChD;IACDC,QAAQ,GAAG,CAAC;IACZC,aAAa,GAAG,EAAE;IAClBC,iBAAiB,GAAG,IAAI;IACxBC,WAAW,GAAG,IAAI;IAClBC,KAAK,GAAGvC,gBAAgB,CAACwC;EAC7B,CAAC,GAAGzB,mBAAmB;EACvB,MAAM;IACF0B,SAAS,GAAG,IAAI;IAChBC,KAAK,EAACC,QAAQ,GAAGrC,QAAQ,IAAI,EAAE;IAC/BuB,OAAO,EAACe,UAAU,GAAG,EAAE;IACvBT,QAAQ,EAACU,WAAW,GAAG,CAAC;IACxBT,aAAa,EAACU,gBAAgB,GAAG,EAAE;IACnCT,iBAAiB,EAACU,oBAAoB,GAAG,IAAI;IAC7CT,WAAW,EAACU,cAAc,GAAG,IAAI;IACjCT,KAAK,EAACU,QAAQ,GAAGjD,gBAAgB,CAACwC;EACtC,CAAC,GAAGxB,gBAAgB;EACpB,MAAM;IACFkC,mBAAmB,GAAG,IAAI;IAC1BC,eAAe,GAAG,IAAI;IACtBC;EACJ,CAAC,GAAGnC,gBAAgB;EAEpB,MAAM,CAACoC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGnE,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACoE,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGrE,QAAQ,CAAC,IAAI,CAAC;EACpE,MAAM,CAACsE,uBAAuB,EAAEC,0BAA0B,CAAC,GAAGvE,QAAQ,CAAC,KAAK,CAAC;EAC7E,IAAIwE,aAAa,GAAG,CAAC;EACrB,IAAIC,sBAAsB,GAAG,CAAC;EAE9B,MAAMC,eAAe,GAAG,MAAM;IAC1BF,aAAa,GAAG,CAAC;IACjBC,sBAAsB,GAAG,CAAC;IAC1B,IAAIP,gBAAgB,EAAE;MAClB,IAAIf,WAAW,EAAE;QACbgB,mBAAmB,CAAC,KAAK,CAAC;QAC1BI,0BAA0B,CAAC,KAAK,CAAC;MACrC;IACJ,CAAC,MAAM;MACHJ,mBAAmB,CAAC,IAAI,CAAC;IAC7B;IACA,IAAIC,mBAAmB,EAAE;MACrB,IAAIP,cAAc,EAAE;QAChBQ,sBAAsB,CAAC,KAAK,CAAC;QAC7BE,0BAA0B,CAAC,KAAK,CAAC;MACrC;IACJ,CAAC,MAAM;MACHF,sBAAsB,CAAC,IAAI,CAAC;IAChC;EACJ,CAAC;EACD,MAAMM,gBAAgB,GAAG,MAAOC,QAAQ,IAAK;IACzC;IACA,IAAIC,QAAQ,CAACC,EAAE,KAAK,SAAS,EAAE;MAC3B;MACA,IAAIC,YAAY,GAAG7E,kBAAkB,CAAC8E,KAAK,CACvC9E,kBAAkB,CAAC+E,WAAW,CAACC,YAAY,CAC9C;MACD,IAAIC,aAAa,GAAGjF,kBAAkB,CAAC8E,KAAK,CACxC9E,kBAAkB,CAAC+E,WAAW,CAACG,MAAM,CACxC;MACD,MAAMC,oBAAoB,GAAG,EAAE;MAC/B,IAAI;QACA,MAAMC,cAAc,GAAG,MAAMP,YAAY;QACzC,MAAMQ,cAAc,GAAG,MAAMJ,aAAa;QAC1C,IAAI,CAACG,cAAc,EAAE;UACjBD,oBAAoB,CAACG,IAAI,CACrBtF,kBAAkB,CAAC+E,WAAW,CAACC,YAAY,CAC9C;QACL;QACA,IAAI,CAACK,cAAc,EAAE;UACjBF,oBAAoB,CAACG,IAAI,CAACtF,kBAAkB,CAAC+E,WAAW,CAACG,MAAM,CAAC;QACpE;MACJ,CAAC,CAAC,OAAOK,KAAK,EAAE;QACZJ,oBAAoB,CAACG,IAAI,CACrBtF,kBAAkB,CAAC+E,WAAW,CAACC,YAAY,EAC3ChF,kBAAkB,CAAC+E,WAAW,CAACG,MAAM,CACxC;MACL;MACA;MACA,OAAOlF,kBAAkB,CAACwF,eAAe,CAACL,oBAAoB,CAAC,CAACM,IAAI,CAChEC,IAAI,IAAI;QACJC,OAAO,CAACC,IAAI,CAAC,iBAAiB,EAAEF,IAAI,CAAC;QACrC,IAAIhB,QAAQ,EAAE;UACVA,QAAQ,EAAE;QACd;MACJ,CAAC,CACJ;IACL,CAAC,MAAM,IAAIA,QAAQ,EAAE;MACjBA,QAAQ,EAAE;IACd;EACJ,CAAC;EACD;EACA,MAAMmB,cAAc,GAAG,MAAM;IACzB,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACpC,IAAIlE,iBAAiB,EAAE;QACnB,MAAM;UACFuB,KAAK,GAAG,gBAAgB;UACxB4C,OAAO,GAAG,iCAAiC;UAC3CC,gBAAgB,GAAG,QAAQ;UAC3BC,iBAAiB,GAAG;QACxB,CAAC,GAAGrE,iBAAiB;QACrB7B,KAAK,CAACmG,KAAK,CACP/C,KAAK,EACL4C,OAAO,EACP,CACI;UACII,IAAI,EAAEH,gBAAgB;UACtBI,OAAO,EAAE,MAAM;YACXN,MAAM,EAAE;UACZ,CAAC;UACD9C,KAAK,EAAE;QACX,CAAC,EACD;UACImD,IAAI,EAAEF,iBAAiB;UACvBG,OAAO,EAAE,MAAM;YACXP,OAAO,EAAE;UACb;QACJ,CAAC,CACJ,EACD;UACIQ,UAAU,EAAE;QAChB,CAAC,CACJ;MACL,CAAC,MAAM;QACHR,OAAO,EAAE;MACb;IACJ,CAAC,CAAC;EACN,CAAC;EAEDlG,SAAS,CAAC,MAAM;IACZ,MAAM2G,UAAU,GAAG,uBAAuB,GAAGC,MAAM,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;IACtFxG,SAAS,CAAC6B,gBAAgB,CAACuE,UAAU,EAAE,MAAM;MACzC,IAAI,OAAOvE,gBAAgB,IAAI,UAAU,EAAE;QACvCA,gBAAgB,EAAE;MACtB;IACJ,CAAC,CAAC;IACF7B,SAAS,CAACiB,iBAAiB,CAACmF,UAAU,EAAEnF,iBAAiB,CAAC;IAC1D,OAAO,MAAM;MACTjB,SAAS,CAAC6B,gBAAgB,CAACuE,UAAU,CAAC;MACtCpG,SAAS,CAACiB,iBAAiB,CAACmF,UAAU,CAAC;IAC3C,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EACN3G,SAAS,CAAC,MAAM;IACZO,SAAS,CAACyG,IAAI,CACV/F,KAAK,EACLC,OAAO,EACP;MAAEC,MAAM,EAAEA,MAAM;MAAEC,QAAQ,EAAEA;IAAS,CAAC,CAAC,CAACwE,IAAI,CAAC,MAAM;MAE/CrF,SAAS,CAAC0G,YAAY,CAAC,EAAE,EAAEvF,uBAAuB,CAAC;MACnDnB,SAAS,CAAC2G,gBAAgB,CAAC,EAAE,EAAEvF,2BAA2B,CAAC;MAC3DpB,SAAS,CAAC4G,uBAAuB,CAACvF,qBAAqB,CAAC;MAExDgD,gBAAgB,CAAC,MAAM;QACnB,IAAI1D,OAAO,EAAE;UACTX,SAAS,CAAC6G,QAAQ,CAAC/F,MAAM,CAAC;QAC9B,CAAC,MAAM;UACHd,SAAS,CAAC6G,QAAQ,CAAC/F,MAAM,EAAEE,KAAK,IAAIC,iBAAiB,EAAE,CAAC;QAC5D;MACJ,CAAC,CAAC;IAEN,CAAC,CAAC;IAEN,OAAO,MAAM;MACTjB,SAAS,CAAC8G,SAAS,EAAE;IACzB,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,SAASC,WAAW,CAACzC,QAAQ,EAAE0C,KAAK,EAAE;IAClC,MAAMC,aAAa,GAAGtH,MAAM,EAAE;IAE9BF,SAAS,CAAC,MAAM;MACZwH,aAAa,CAACC,OAAO,GAAG5C,QAAQ;IACpC,CAAC,CAAC;IAEF7E,SAAS,CAAC,MAAM;MACZ,SAAS0H,IAAI,GAAG;QACZF,aAAa,CAACC,OAAO,EAAE;MAC3B;MACA,IAAIF,KAAK,KAAK,IAAI,EAAE;QAChB,IAAII,EAAE,GAAGC,WAAW,CAACF,IAAI,EAAEH,KAAK,CAAC;QACjC,OAAO,MAAMM,aAAa,CAACF,EAAE,CAAC;MAClC;IACJ,CAAC,EAAE,CAACJ,KAAK,CAAC,CAAC;EACf;EAEA,SAASO,oBAAoB,GAAG;IAC5BtD,0BAA0B,CAAC,IAAI,CAAC;EACpC;EAEA,SAASuD,qBAAqB,GAAG;IAC7BvD,0BAA0B,CAAC,KAAK,CAAC;EACrC;EAEA8C,WAAW,CAAC,MAAM;IACd7C,aAAa,EAAE;IACf,IAAIA,aAAa,IAAI,CAAC,EAAE;MACpBA,aAAa,GAAG,CAAC;MACjB,IAAItB,iBAAiB,EAAE;QACnBiB,mBAAmB,CAAC,KAAK,CAAC;MAC9B;IACJ;EACJ,CAAC,EAAE,IAAI,CAAC;EAERkD,WAAW,CAAC,MAAM;IACd5C,sBAAsB,EAAE;IACxB,IAAIA,sBAAsB,IAAI,CAAC,EAAE;MAC7BA,sBAAsB,GAAG,CAAC;MAC1B,IAAIb,oBAAoB,EAAE;QACtBS,sBAAsB,CAAC,KAAK,CAAC;MACjC;IACJ;EACJ,CAAC,EAAE,IAAI,CAAC;EAER,oBACI,oBAAC,IAAI;IAAC,KAAK,EAAE,CAAC0D,MAAM,CAACC,SAAS,EAAED,MAAM,CAACE,UAAU;EAAE,GAC9C3E,SAAS,IAAIc,mBAAmB,gBAC7B,oBAAC,cAAc;IACX,SAAS,EAAEZ,QAAS;IACpB,sBAAsB,EAAEE,WAAY;IACpC,cAAc,EAAED,UAAW;IAC3B,sBAAsB,EAAEE,gBAAiB;IACzC,QAAQ,EAAE1B,QAAS;IACnB,oBAAoB,EAAEC,oBAAoB,GAAGA,oBAAoB,GAAG6D,cAAe;IACnF,uBAAuB,EAAEtE,uBAAwB;IACjD,2BAA2B,EAAEC,2BAA4B;IACzD,qBAAqB,EAAEC,qBAAsB;IAC7C,oBAAoB,EAAEkG;EAAqB,EAC7C,gBAAG,oBAAC,IAAI,OAAG,eAEjB,oBAAC,IAAI;IAAC,KAAK,EAAEE,MAAM,CAACE,UAAW;IAAC,aAAa,EAAC,MAAM;IAAC,YAAY,EAAEvD;EAAgB,gBAC/E,oBAAC,uBAAuB;IAAC,KAAK,EAAE,CAACqD,MAAM,CAACG,cAAc,EAAEH,MAAM,CAACE,UAAU,CAAE;IACvE,gBAAgB,EAAE;MACd1F,yBAAyB,EAAEA,yBAAyB;MACpDC,sBAAsB,EAAEA;IAC5B,CAAE;IACF,MAAM,EAAET,MAAO;IACf,iBAAiB,EAAEU,iBAAiB,GAAGA,iBAAiB,GAAG;MAAA,IAAC;QAAE0F;MAAS,CAAC;MAAA,oBACpE,oBAAC,wBAAwB;QACrB,QAAQ,EAAEA,QAAS;QACnB,yBAAyB,EAAE/F,yBAA0B;QACrD,qBAAqB,EAAEC,qBAAsB;QAC7C,kBAAkB,EAAEC;MAAmB,EACzC;IAAA;EACL,EACH,CACC,EACN4B,gBAAgB,gBACb,oBAAC,aAAa;IACV,sBAAsB,EAAElB,QAAS;IACjC,cAAc,EAAEN,OAAQ;IACxB,sBAAsB,EAAEO,aAAc;IACtC,QAAQ,EAAEhB,QAAS;IACnB,oBAAoB,EAAEC,oBAAoB,GAAGA,oBAAoB,GAAG6D,cAAe;IACnF,uBAAuB,EAAEtE,uBAAwB;IACjD,2BAA2B,EAAEC,2BAA4B;IACzD,qBAAqB,EAAEC,qBAAsB;IAC7C,WAAW,EAAE,MAAM;MAAE6C,aAAa,GAAG,CAAC;IAAE;EAAE,EAC5C,gBACF,oBAAC,IAAI,OAAG,EAEXF,uBAAuB,gBACpB,oBAAC,kBAAkB;IACf,mBAAmB,EAAEP,mBAAoB;IACzC,eAAe,EAAEC,eAAgB;IACjC,WAAW,EAAEC,WAAY;IACzB,qBAAqB,EAAE6D;EAAsB,EAC/C,gBACF,oBAAC,IAAI,OAAG,CAET;AAEf;AAEA,MAAMC,MAAM,GAAG3H,UAAU,CAACgI,MAAM,CAAC;EAC7BJ,SAAS,EAAE;IACPK,IAAI,EAAE,CAAC;IACPC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE,QAAQ;IACxBC,MAAM,EAAE;EACZ,CAAC;EACDP,UAAU,EAAE;IACRQ,KAAK,EAAE,MAAM;IACbC,MAAM,EAAE,MAAM;IACdC,QAAQ,EAAE;EACd,CAAC;EACDT,cAAc,EAAE;IACZG,IAAI,EAAE,CAAC;IACPG,MAAM,EAAE,CAAC;IACTI,KAAK,EAAE,CAAC;IACRC,GAAG,EAAE;EACT;AACJ,CAAC,CAAC"}